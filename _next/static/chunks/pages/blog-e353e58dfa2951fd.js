(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[195],{9873:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog",function(){return s(8277)}])},9256:function(e,t,s){"use strict";s.d(t,{A:function(){return f}});var i=s(2322),n=s(2784),a=s(5632),r=s(6634),l=s(3508);let c=e=>{let{icon:t,label:s,active:n=!1,onClick:a,size:r="normal"}=e;return(0,i.jsxs)("button",{onClick:a,className:"\n        ".concat({normal:"w-[70px] h-[70px]",large:"w-[144px] h-[70px]",tall:"w-[70px] h-[144px]"}[r],"\n        rounded-2xl flex flex-col items-center justify-center gap-1\n        ").concat(n?"bg-white/30":"bg-white/10","\n        backdrop-blur-md transition-all duration-200\n        hover:bg-white/40 hover:scale-105\n        border border-white/10\n      "),children:[(0,i.jsx)("span",{className:"text-2xl",children:t}),s&&(0,i.jsx)("span",{className:"text-xs text-white/80 font-medium",children:s})]})},o=e=>{let{icon:t,value:s,onChange:n}=e;return(0,i.jsxs)("div",{className:"flex items-center gap-3 bg-white/10 p-3 rounded-2xl border border-white/10",children:[(0,i.jsx)("span",{className:"text-xl text-white/80",children:t}),(0,i.jsx)("input",{type:"range",value:s,onChange:n,className:"flex-1 h-1 bg-white/20 rounded-full appearance-none cursor-pointer"})]})},d=e=>{let{isOpen:t}=e,[s,a]=(0,n.useState)(!0),[d,u]=(0,n.useState)(!0),[x,h]=(0,n.useState)(!1),[m,p]=(0,n.useState)(!1),[b,f]=(0,n.useState)(80),[j,v]=(0,n.useState)(60);return(0,i.jsx)(r.M,{children:t&&(0,i.jsxs)(l.E.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},className:"absolute top-8 right-2 w-[360px] p-4 rounded-3xl bg-black/40 backdrop-blur-2xl border border-white/10",children:[(0,i.jsxs)("div",{className:"grid grid-cols-4 gap-3 mb-3",children:[(0,i.jsx)("div",{className:"col-span-2",children:(0,i.jsx)(c,{icon:"\uD83D\uDCF6",label:"Wi-Fi",active:s,onClick:()=>a(!s),size:"large"})}),(0,i.jsx)(c,{icon:"\uD83D\uDD35",label:"蓝牙",active:d,onClick:()=>u(!d)}),(0,i.jsx)(c,{icon:"✈️",label:"飞行模式",active:x,onClick:()=>h(!x)})]}),(0,i.jsxs)("div",{className:"grid grid-cols-4 gap-3 mb-3",children:[(0,i.jsx)("div",{className:"col-span-2 row-span-2",children:(0,i.jsx)(c,{icon:"\uD83C\uDFB5",label:"正在播放",size:"large",active:!0})}),(0,i.jsx)(c,{icon:"\uD83C\uDF19",label:"专注",active:m,onClick:()=>p(!m)}),(0,i.jsx)(c,{icon:"\uD83C\uDFAE",label:"游戏中心"})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)(o,{icon:"\uD83D\uDD06",value:b,onChange:e=>f(e.target.value)}),(0,i.jsx)(o,{icon:"\uD83D\uDD0A",value:j,onChange:e=>v(e.target.value)})]})]})})};function u(){let[e,t]=(0,n.useState)(!1);return(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("button",{onClick:()=>t(!e),className:"flex items-center gap-2 px-2 py-1 rounded-lg hover:bg-white/10 transition-colors",children:(0,i.jsx)("span",{className:"text-white/80 text-lg",children:e?"✕":""})}),(0,i.jsx)(d,{isOpen:e})]})}function x(){(0,a.useRouter)();let e=new Date().toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"});return(0,i.jsx)("div",{className:"fixed top-0 left-0 right-0 h-7 bg-black/30 backdrop-blur-xl z-50",children:(0,i.jsxs)("div",{className:"flex items-center justify-between h-full px-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 text-sm text-white/80",children:[(0,i.jsx)("span",{className:"font-semibold",children:"ICE"}),(0,i.jsx)("span",{className:"cursor-pointer hover:text-white",children:"文件"}),(0,i.jsx)("span",{className:"cursor-pointer hover:text-white",children:"编辑"}),(0,i.jsx)("span",{className:"cursor-pointer hover:text-white",children:"查看"}),(0,i.jsx)("span",{className:"cursor-pointer hover:text-white",children:"窗口"}),(0,i.jsx)("span",{className:"cursor-pointer hover:text-white",children:"帮助"})]}),(0,i.jsx)("div",{className:"flex items-center gap-4 text-sm text-white/80",children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{children:"\uD83D\uDD0B 100%"}),(0,i.jsx)("span",{children:"\uD83D\uDCF6"}),(0,i.jsx)("span",{children:e}),(0,i.jsx)(u,{})]})})]})})}var h=s(9097),m=s.n(h);let p=e=>{let{href:t,icon:s,label:n,isActive:a}=e;return(0,i.jsx)(l.E.div,{className:"group relative",whileHover:{y:-10},transition:{type:"spring",stiffness:400,damping:25},children:(0,i.jsxs)(m(),{href:t,children:[(0,i.jsx)("div",{className:"\n          w-12 h-12 rounded-2xl flex items-center justify-center\n          bg-white/10 backdrop-blur-md border border-white/20\n          ".concat(a?"bg-white/20":"hover:bg-white/15","\n          transition-all duration-300\n        "),children:s}),(0,i.jsx)("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,i.jsx)("div",{className:"px-3 py-1 rounded-md bg-gray-800 text-white text-sm whitespace-nowrap",children:n})}),a&&(0,i.jsx)("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2",children:(0,i.jsx)("div",{className:"w-1 h-1 rounded-full bg-white"})})]})})};function b(){let e=(0,a.useRouter)();return(0,i.jsx)("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2",children:(0,i.jsx)("div",{className:" px-4 py-2 rounded-2xl bg-white/30 backdrop-blur-xl border border-white/20 shadow-2xl ",children:(0,i.jsx)("div",{className:"flex items-center gap-3",children:[{href:"/",icon:"\uD83C\uDFE0",label:"主页"},{href:"/blog",icon:"\uD83D\uDCDD",label:"博客"},{href:"/projects",icon:"\uD83D\uDCBB",label:"项目"},{href:"/about",icon:"\uD83D\uDC64",label:"关于"}].map(t=>(0,i.jsx)(p,{...t,isActive:e.pathname===t.href},t.href))})})})}function f(e){let{children:t}=e;return(0,i.jsxs)("div",{className:"min-h-screen desktop-bg",children:[(0,i.jsx)(x,{}),(0,i.jsx)("main",{className:"pt-7 pb-24",children:t}),(0,i.jsx)(b,{})]})}},1757:function(e,t,s){"use strict";s.d(t,{$:function(){return l}});var i=s(2322),n=s(2784),a=s(3508),r=s(8316);function l(e){let{children:t,className:s="",onClose:l}=e,[c,o]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),[x,h]=(0,n.useState)(!1),[m,p]=(0,n.useState)(!1);if(m)return null;let b=(0,i.jsxs)(a.E.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:x?0:1,y:0,scale:d?.1:1},className:"\n        window-card rounded-lg overflow-hidden transition-all duration-300\n        ".concat(c?"window-maximized":"","\n        ").concat(d?"window-minimized":"","\n        ").concat(s,"\n      "),style:{...c?{height:"calc(100vh - 47px)",top:"7px"}:{}},children:[(0,i.jsx)(a.E.div,{className:"window-titlebar h-8 flex items-center",layout:"position",children:(0,i.jsxs)("div",{className:"window-controls",children:[(0,i.jsx)("button",{className:"window-control window-close",onClick:()=>{h(!0),setTimeout(()=>{p(!0),l&&l()},300)},title:"关闭"}),(0,i.jsx)("button",{className:"window-control window-minimize",onClick:()=>{u(!0)},title:"最小化"}),(0,i.jsx)("button",{className:"window-control window-maximize",onClick:()=>{o(!c)},title:"最大化"})]})}),(0,i.jsx)(a.E.div,{className:"p-6 overflow-auto",layout:"position",style:{maxHeight:c?"calc(100vh - 87px)":void 0},children:t})]}),f=d&&!m&&(0,i.jsx)(a.E.div,{initial:{scale:.5,y:100},animate:{scale:1,y:0},exit:{scale:.5,y:100},onClick:()=>{u(!1),h(!1)},className:"cursor-pointer",children:(0,i.jsx)("div",{className:"w-12 h-12 rounded-xl bg-white/10 backdrop-blur-md flex items-center justify-center",children:"\uD83D\uDCC4"})});return(0,i.jsxs)(i.Fragment,{children:[!d&&b,f&&(0,r.createPortal)((0,i.jsx)("div",{className:"fixed bottom-20 right-6",children:f}),document.body)]})}},8277:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var i=s(2322),n=s(2784),a=s(3508),r=s(9256),l=function(){for(var e,t,s=0,i="";s<arguments.length;)(e=arguments[s++])&&(t=function e(t){var s,i,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t))for(s=0;s<t.length;s++)t[s]&&(i=e(t[s]))&&(n&&(n+=" "),n+=i);else for(s in t)t[s]&&(n&&(n+=" "),n+=s)}return n}(e))&&(i&&(i+=" "),i+=t);return i};let c={variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}};function o(e){let{children:t,className:s,variant:n="default",size:a="default",...r}=e;return(0,i.jsx)("button",{className:l("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",c.variant[n],c.size[a],s),...r,children:t})}function d(e){let{onSuccess:t}=e,[s,a]=(0,n.useState)(!1),[r,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[u,x]=(0,n.useState)(!1),h=async e=>{e.preventDefault(),x(!0);try{let e=await fetch("".concat("","/api/posts"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:r,content:c})});if(!e.ok)throw Error("创建失败");l(""),d(""),a(!1),null==t||t()}catch(e){console.error("创建博客失败:",e),alert("创建博客失败，请重试")}finally{x(!1)}};return s?(0,i.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"bg-white p-6 rounded-lg w-full max-w-2xl",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"写博客"}),(0,i.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-1",children:"标题"}),(0,i.jsx)("input",{type:"text",value:r,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-1",children:"内容"}),(0,i.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border rounded-md h-48",required:!0})]}),(0,i.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,i.jsx)(o,{type:"button",variant:"outline",onClick:()=>a(!1),disabled:u,children:"取消"}),(0,i.jsx)(o,{type:"submit",disabled:u,children:u?"发布中...":"发布"})]})]})]})}):(0,i.jsx)(o,{onClick:()=>a(!0),children:"写博客"})}var u=s(1757);function x(){let[e,t]=(0,n.useState)([]),[s,l]=(0,n.useState)(!0),c=async()=>{try{let e=await fetch("".concat("","/api/posts")),s=await e.json();t(Array.isArray(s)?s:[])}catch(e){console.error("获取博客列表失败:",e),t([])}finally{l(!1)}};return(0,n.useEffect)(()=>{c()},[]),(0,i.jsx)(r.A,{children:(0,i.jsxs)("div",{className:"container mx-auto px-4 py-12 sci-fi-bg min-h-screen",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,i.jsx)(a.E.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-4xl font-bold neon-text",children:"博客文章"}),(0,i.jsx)(d,{onSuccess:c})]}),s?(0,i.jsx)("p",{className:"text-white",children:"加载中..."}):e.length>0?(0,i.jsx)(a.E.div,{className:"grid gap-6",variants:{show:{transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",children:e.map(e=>(0,i.jsxs)(u.$,{children:[(0,i.jsx)("h2",{className:"text-2xl font-semibold mb-2 text-cyan-400",children:e.title}),(0,i.jsx)("p",{className:"text-gray-300 mb-4",children:e.content}),(0,i.jsxs)("div",{className:"text-sm text-cyan-200",children:["发布于 ",new Date(e.created_at).toLocaleDateString()]})]},e.id))}):(0,i.jsx)("p",{className:"text-white",children:"暂无博客文章"})]})})}}},function(e){e.O(0,[375,774,888,179],function(){return e(e.s=9873)}),_N_E=e.O()}]);